# SampleCachingApp-master

Approach

==> There are 3 major things done in this exercise integration with redis for distributed caching mechanism, invalidating cache, dynamic filter/sorting/paging.
==> Invalidating cache mainly occurs when logic changes in DynamicFilters,DynamicSorting and GetEmployees methods which are the main units for logic implementation.(New line and white space will be ignored as a change)
==> For caching mechanism a hashcode is generated by reading a file content and encrypting it, while fetching cache through key it matches the hashed content with parameters as a key to fetch value if content is changed then new hash code is generated hence the old value is fetched from previously stored cache variable and the actual serialzed object is deleted alongwith the cached key.
==> Dynamic Filter/Sorting are implemented with the help of extension methods where an iqueryable expression is obtained after processing of logic.(There is not dependency of any of field name for filteration and sorting as it was before.)


Few points:
==> Comparison is kept case insensitive except equal operation for string.
==> List of operation allowed for string property are Equals,Contains,StartsWith,EndsWith and In.
==> List of operation allowed for int property are Equals,GreaterThan,LessThan and In.
==> By manipulating below given sample of the object different filters/sorting/paging scenario can be applied.
==> If during request incorrect parameters are added then either that particular filter will be by passed or it will throw an exception mentioning that the queryparameters are incorrect or incorrect data type for the field.
==> Api just returns list of employees either from db or cache based on search criteria.


Few case scenario based on requesting object:
1. Fetching Max 15 records which has id greater than 2 and less than 15, name which has am in it, sorting applied on id asc,
   and page no. starts from 1 and has array of 15 items in 1 page.
   {
    "filterCondition": [{
            "PropertyName": "ID",
            "Value": "15",
            "Comparison": "lessthan"
        },
        {
            "PropertyName": "id",
            "Value": "2",
            "Comparison": "greaterthan"
        },
        {
            "PropertyName": "name",
            "Value": "am",
            "Comparison": "contains"
        }],
    "sortingParameters": {
        "sortProperty": "id",
        "ascendingSort": true
    },
    "paging": {
        "PageNo": 1,
        "PageSize": 15
    }
}

2. Max 15  records with sorting name desc and id in 1,2,3,45,5. As we dont have 45 id in db no record will be fetched with 45 id.
   {
    "filterCondition": [
        {
            "PropertyName": "ID",
            "Value": "1,2,3,45,5",
            "Comparison": "in"
        } 
    ],
    "sortingParameters": {
        "sortProperty": "name",
        "ascendingSort": false
    },
    "paging": {
        "PageNo": 1,
        "PageSize": 15
    }
}

3. Max 15 records whose designation is manager,vp,tl and order by designation asc.

   {
    "filterCondition": [
        {
            "PropertyName": "designation",
            "Value": "manager,tl,vp",
            "Comparison": "in"
        } 
    ],
    "sortingParameters": {
        "sortProperty": "designation",
        "ascendingSort": true
    },
    "paging": {
        "PageNo": 1,
        "PageSize": 15
    }
}


